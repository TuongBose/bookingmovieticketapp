<div class="container mt-4">
    <h3 class="text-center mb-4">Danh sách tài khoản Customer</h3>
  
    <!-- Spinner khi đang tải -->
    <div *ngIf="isLoading" class="text-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Đang tải...</span>
      </div>
    </div>
  
    <!-- Thông báo thành công -->
    <div *ngIf="successMessage" class="alert alert-success text-center" (click)="successMessage = null">
      {{ successMessage }}
    </div>
  
    <!-- Thông báo lỗi -->
    <div *ngIf="errorMessage" class="alert alert-danger text-center" (click)="errorMessage = null">
      {{ errorMessage }}
    </div>
  
    <!-- Danh sách customer -->
    <div class="table-responsive" *ngIf="!isLoading && !errorMessage">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Hình ảnh</th>
            <th>Tên</th>
            <th>Email</th>
            <th>Số điện thoại</th>
            <th>Password</th>
            <th>Địa chỉ</th>
            <th>Ngày sinh</th>
            <th>Ngày tạo</th>
            <th>Trạng thái</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let customer of customers">
            <td>{{ customer.id }}</td>  
            <td>{{ customer.name }}</td>
            <td>{{ customer.email }}</td>
            <td>{{ customer.phonenumber }}</td>
            <td>{{ customer.password }}</td>
            <td>{{ customer.address || 'Chưa có' }}</td>
            <td>{{ customer.dateofbirth | date:'dd/MM/yyyy' }}</td>
            <td>{{ customer.createdat | date:'dd/MM/yyyy HH:mm' }}</td>
            <td>
              <span [ngClass]="{
                'status-active': customer.isactive,
                'status-inactive': !customer.isactive
              }">
                {{ customer.isactive ? 'Hoạt động' : 'Không hoạt động' }}
              </span>
            </td>
            <td>
              <button class="btn btn-sm" [ngClass]="customer.isactive ? 'btn-danger' : 'btn-success'"
                (click)="toggleActiveStatus(customer)" [disabled]="isLoading">
                {{ customer.isactive ? 'Tắt' : 'Bật' }}
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="customers.length === 0 && !isLoading && !errorMessage" class="text-center text-muted">
        Không có tài khoản customer nào.
      </div>
    </div>
  </div>