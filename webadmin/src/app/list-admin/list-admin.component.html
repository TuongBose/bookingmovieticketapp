<div class="container mt-4">
    <h3 class="text-center mb-4">Danh sách tài khoản Admin</h3>
  
    <!-- Spinner khi đang tải -->
    <div *ngIf="isLoading" class="text-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Đang tải...</span>
      </div>
    </div>
  
    <!-- Thông báo thành công -->
    <div *ngIf="successMessage" class="alert alert-success text-center" (click)="successMessage = null">
      {{ successMessage }}
    </div>
  
    <!-- Thông báo lỗi -->
    <div *ngIf="errorMessage" class="alert alert-danger text-center" (click)="errorMessage = null">
      {{ errorMessage }}
    </div>
  
    <!-- Danh sách customer -->
    <div class="table-responsive" *ngIf="!isLoading && !errorMessage">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>ID</th>
            <th>Tên</th>
            <th>Email</th>
            <th>Số điện thoại</th>
            <th>Password</th>
            <th>Địa chỉ</th>
            <th>Ngày sinh</th>
            <th>Ngày tạo</th>
            <th>Trạng thái</th>
            <th>Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let admin of admins">
            <td>{{ isCurrentUser(admin.id)? admin.id: '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? admin.name: '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? admin.email: '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? admin.phonenumber: '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? admin.password: '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? admin.address || 'Chưa có': '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? (admin.dateofbirth | date:'dd/MM/yyyy') : '******' }}</td>
            <td>{{ isCurrentUser(admin.id)? (admin.createdat | date:'dd/MM/yyyy HH:mm') : '******' }}</td>
            <td>
              <span *ngIf="isCurrentUser(admin.id)" [ngClass]="{
                'status-active': admin.isactive,
                'status-inactive': !admin.isactive
              }">
                {{ admin.isactive ? 'Hoạt động' : 'Không hoạt động' }}
              </span>
            </td>
            <td>
              <button *ngIf="isCurrentUser(admin.id)" class="btn btn-sm" [ngClass]="admin.isactive ? 'btn-danger' : 'btn-success'"
                (click)="toggleActiveStatus(admin)" [disabled]="isLoading">
                {{ admin.isactive ? 'Tắt' : 'Bật' }}
              </button>
            </td>
          </tr>
        </tbody>
      </table>
      <div *ngIf="admins.length === 0 && !isLoading && !errorMessage" class="text-center text-muted">
        Không có tài khoản admin nào.
      </div>
    </div>
  </div>